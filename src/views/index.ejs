<%- include('includes/head'); %>

    <main class="w-full h-full flex flex-col p-2 sm:py-6 sm:px-8">
        <% if (user) { %> 
        <%- include('includes/menssages'); %>
        <section class="w-full h-auto mt-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 grid-flow-cols-dense" >
            <% contatos.forEach(contato => { %> 
                <article class="card w-full h-full">
                    <div class="flex">
                        <span class="material-icons text-white">perm_identity</span>
                        <h3 class="ml-4 font-semibold text-white"><%= `${contato.nome} ${contato.sobrenome}` %> </h3>
                    </div>
                    <div class="flex">
                        <span class="material-icons text-white">phone</span>
                        <p class="ml-4 font-light text-white"><%= contato.phone %></p>
                    </div>
                    <div class="flex">
                        <span class="material-icons text-white">email</span>
                        <p class="ml-4 font-light text-white"><%= contato.email %></p>
                    </div>
                    <div class="flex">
                        <span class="material-icons text-white">subject</span>
                        <p class="ml-4 font-light text-white"><%= contato.description %></p>
                    </div>
                    <footer class="w-full h-full flex items-end justify-start space-x-1">
                        <span class="w-2/3 justify-self-start text-white">
                            <%= contato.create.toLocaleDateString('en', {weekday: 'long', day:'numeric', month:'numeric', year:'numeric'}) %>
                        </span>
                        <div class="w-1/3 flex justify-end items-end">
                            <a href="/contato/<%= contato.id %>" class="material-icons p-2 text-white hover:bg-green-900 rounded-lg">edit</a>
                            <a href="/contato/delete/<%= contato.id %>" class="material-icons p-2 text-white hover:bg-green-900 rounded-lg">clear</a>
                        </div>
                    </footer>
                </article>
            <%  });  %> 
        </section>
        <% } else { %>
        <section class="w-full h-full py-4 flex flex-col sm:flex-row-reverse items-start justify-center">
            <img class="w-2/3 sm:w-1/3 rounded-xl" src="/assets/img/agenda.png" alt="agenda">
            <div class="w-full mt-4 sm:mt-0 sm:w-2/3 px-0 sm:px-10">
                <h2 class="w-full h-auto mt-4 text-2xl md:text-4xl text-left text-gray-900 font-medium tracking-wide font-Lobster">Virtual Agenda</h2>
                <p class="w-full h-auto mt-2 ml-px text-sm md:text-lg text-left text-gray-900 font-light italic tracking-wider">
                    It's a studying project for JavaScript full-stack web development. The functionality was developed for be a<br> 
                    CRUD (Create, Update and Delete) application.<br>
                    <br> 
                    You may have login for use the app.
                </p>
                <h2 class="w-full h-auto mt-4 text-2xl md:text-4xl text-left text-gray-900 font-medium tracking-wide font-Lobster">Created By</h2>
                <p class="w-full h-auto mt-2 ml-px text-md md:text-lg text-left text-green-900 font-light  tracking-wider">
                    Viriato Nova
                    <a class="ml-4 text-lg text-pink-700 font-Lobster" href="mailto:viriatosampaio@gmail.com">E-mail</a>
                    <a class="ml-4 text-lg text-pink-700 font-Lobster" href="https://www.linkedin.com/in/viriatonova/" target="_blanck">LinkedLn</a>
                    <a class="ml-4 text-lg text-pink-700 font-Lobster" href="https://github.com/viriatonova" target="_blanck">Github</a>
                </p>
            </div>

        </section>
        <% } %>  
    </main>
    
<%- include('includes/footer'); %>